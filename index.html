<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultimate Clicker</title>
<style>
body { font-family: Arial, sans-serif; background:#222; color:#fff; margin:0; padding:20px; }
button { margin:5px; padding:10px; background:#444; color:#fff; border:none; border-radius:5px; cursor:pointer; }
button:hover { background:#666; }
.tab { display:none; }
.active-tab { display:block; }
h1, h2 { margin:10px 0; }
#upgradeList div, #skillList div { margin:5px 0; }
</style>
</head>
<body>

<h1>Ultimate Clicker</h1>

<!-- Tabs -->
<button onclick="showTab('stats')">Stats</button>
<button onclick="showTab('upgrades')">Upgrades</button>
<button onclick="showTab('rebirth')">Rebirth</button>
<button onclick="showTab('skill')">Skill Tree</button>

<!-- Stats Tab -->
<div id="stats" class="tab active-tab">
  <h2>Stats</h2>
  <p>Money: <span id="money">0</span></p>
  <p>Click Power: <span id="clickPower">1</span></p>
  <p>Rebirth Tokens: <span id="rebirthTokens">0</span></p>
  <p>Prestige Multiplier: <span id="prestigeMult">1</span>x</p>
  <button onclick="clickMoney()">Click!</button>
</div>

<!-- Upgrades Tab -->
<div id="upgrades" class="tab">
  <h2>Upgrades</h2>
  <div id="upgradeList"></div>
</div>

<!-- Rebirth Tab -->
<div id="rebirth" class="tab">
  <h2>Rebirth</h2>
  <p>Rebirth gives you tokens to unlock skills!</p>
  <button onclick="rebirth(1)">Rebirth x1</button>
  <button onclick="rebirth(5)">Rebirth x5</button>
  <button onclick="rebirth(10)">Rebirth x10</button>
</div>

<!-- Skill Tree Tab -->
<div id="skill" class="tab">
  <h2>Skill Tree</h2>
  <div id="skillList"></div>
</div>

<script>
let money = 0;
let clickPower = 1;
let rebirthTokens = 0;
let prestigeMult = 1;

let upgrades = [
  { name:"Click Power", level:0, baseCost:10, auto:0, increment:10 },
  { name:"Auto Clicker", level:0, baseCost:100, auto:1, increment:0 },
];

let skills = [
  { name:"Double Click Power", cost:1, unlocked:false, effect:()=>{ clickPower *= 2 } },
  { name:"Cheaper Upgrades", cost:2, unlocked:false, effect:()=>{ upgrades.forEach(u=>u.baseCost *= 0.9) } },
  { name:"Extra Prestige", cost:5, unlocked:false, effect:()=>{ prestigeMult *= 2 } },
];

// --- Tabs ---
function showTab(tabName){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active-tab'));
  document.getElementById(tabName).classList.add('active-tab');
}

// --- Click Function ---
function clickMoney(){
  money += clickPower * prestigeMult;
  updateDisplay();
}

// --- Upgrade System ---
function updateUpgradeList(){
  let container = document.getElementById('upgradeList');
  container.innerHTML = '';
  upgrades.forEach((u,i)=>{
    let cost = Math.floor(u.baseCost * Math.pow(1.15,u.level));
    container.innerHTML += `<div>${u.name} - Level: ${u.level} - Cost: ${formatNumber(cost)} 
      <button onclick="buyUpgrade(${i})">Buy</button></div>`;
  });
}

function buyUpgrade(i){
  let u = upgrades[i];
  let cost = Math.floor(u.baseCost * Math.pow(1.15,u.level));
  if(money >= cost){
    money -= cost;
    u.level++;
    clickPower += u.name === "Click Power" ? u.increment * Math.pow(10,u.level-1) : 0;
    updateDisplay();
    updateUpgradeList();
  } else alert("Not enough money!");
}

// --- Automated Clickers ---
setInterval(()=>{
  let autoMoney = 0;
  upgrades.forEach(u=>{ autoMoney += u.auto * u.level * prestigeMult; });
  money += autoMoney;
  updateDisplay();
}, 1000);

// --- Rebirth System ---
function rebirth(amount){
  let rebirthCost = Math.pow(10, Math.log10(money+1)/2); // Scales to sextillions+
  if(money >= rebirthCost*amount){
    money = 0;
    upgrades.forEach(u=>u.level=0);
    rebirthTokens += amount;
    clickPower = 1;
    updateDisplay();
    updateUpgradeList();
  } else alert("Not enough money to rebirth x"+amount);
}

// --- Skill Tree ---
function updateSkillList(){
  let container = document.getElementById('skillList');
  container.innerHTML = '';
  skills.forEach((s,i)=>{
    container.innerHTML += `<div>${s.name} - Cost: ${s.cost} - ${s.unlocked ? 'Unlocked' : 'Locked'}
      <button onclick="buySkill(${i})">Buy</button></div>`;
  });
}

function buySkill(i){
  let s = skills[i];
  if(!s.unlocked && rebirthTokens >= s.cost){
    rebirthTokens -= s.cost;
    s.unlocked = true;
    s.effect();
    updateDisplay();
    updateSkillList();
  } else alert("Not enough tokens or already unlocked!");
}

// --- Update Display ---
function updateDisplay(){
  document.getElementById('money').innerText = formatNumber(money);
  document.getElementById('clickPower').innerText = formatNumber(clickPower);
  document.getElementById('rebirthTokens').innerText = rebirthTokens;
  document.getElementById('prestigeMult').innerText = prestigeMult;
}

// --- Helper: Format Big Numbers ---
function formatNumber(num){
  if(num < 1e6) return Math.floor(num);
  const units = ["","K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","Ud","Dd","Td","Qad","Qid","Sxd","Spd","Ocd","Nod","Vg"];
  let exponent = Math.floor(Math.log10(num)/3);
  let scaled = num/Math.pow(10,exponent*3);
  return scaled.toFixed(2) + units[exponent];
}

updateUpgradeList();
updateSkillList();
updateDisplay();
</script>

</body>
</html>
